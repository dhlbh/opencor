<!DOCTYPE html>
<html>
    <head>
        <title>
            Build and test
        </title>

        <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

        <link href="res/stylesheet.css" rel="stylesheet" type="text/css" />

        <link href="../3rdparty/googleCodePrettify/prettify.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="../3rdparty/googleCodePrettify/prettify.js"></script>
    </head>
    <body onload="prettyPrint()">
        <h1>
            Build and test
        </h1>

        <p>
            OpenCOR can be built in two different ways:
        </p>

        <ul>
            <li>
                <strong>From the command line:</strong> various batch and VBScript files (<code>.bat</code> and <code>.vbs</code> files) on Windows and shell scripts on Linux / Mac OS X are available:
                <ul>
                    <li><a href="https://github.com/opencor/opencor/blob/master/cleanproj"><code>[OpenCOR]/cleanproj</code></a>[<a href="https://github.com/opencor/opencor/blob/master/cleanproj.bat"><code>.bat</code></a>]: cleans the OpenCOR environment;</li>
                    <li>
                        <a href="https://github.com/opencor/opencor/blob/master/makeproj"><code>[OpenCOR]/makeproj</code></a>[<a href="https://github.com/opencor/opencor/blob/master/makeproj.bat"><code>.bat</code></a>]: compiles and links everything that is required to get a release version of OpenCOR; and
                        <div>
                            <strong>Note:</strong> <code>makeproj[.bat]</code> does, by default, compile OpenCOR sequentially. You can, however, specify the number of jobs (<code>n</code>) to be run simultaneously, making it possible to compile OpenCOR in parallel, if needed:
                            <pre class="prettyprint">$ ./makeproj -j [n]</pre>
                            If no <code>n</code> value is provided, then as many jobs as possible will be run simultaneously.
                        </div>
                    </li>
                    <li>
                        <a href="https://github.com/opencor/opencor/blob/master/runproj"><code>[OpenCOR]/runproj</code></a>[<a href="https://github.com/opencor/opencor/blob/master/runproj.bat"><code>.bat</code></a> | <a href="https://github.com/opencor/opencor/blob/master/runproj.vbs"><code>.vbs</code></a>]: runs OpenCOR.
                        <div>
                            <strong>Note:</strong> on Windows, if you were to run OpenCOR from a console window by just entering <code>runproj</code>, then the <code>runproj.bat</code> file would be executed (rather than the <code>runproj.vbs</code> file), offering you the opportunity to use OpenCOR as a console application. However, if you were to run OpenCOR by double clicking on the <code>runproj.bat</code> file from Windows Explorer, then a console window will quickly appear and disappear. To avoid this, you should double click on the <code>runproj.vbs</code> file.
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <strong>Using Qt Creator:</strong>
                <ul>
                    <li>Start Qt Creator;</li>
                    <li>Open <a href="https://github.com/opencor/opencor/blob/master/CMakeLists.txt"><code>[OpenCOR]/CMakeLists.txt</code></a> (by selecting the <code>File</code> | <code>Open File or Project...</code> menu or by pressing <code>Ctrl+O</code>);</li>
                    <li>Specify <a href="https://github.com/opencor/opencor/tree/master/build"><code>[OpenCOR]/build</code></a> as the build directory;</li>
                    <li>Make sure that the right generator is selected (i.e. <code>MinGW Generator (Mingw as GCC for Windows targets)</code> for Windows, <code>Unix Generator (GCC (x86 32bit))</code> for Linux 32-bit, <code>Unix Generator (GCC (x86 64bit))</code> for Linux 64-bit and <code>Unix Generator (GCC (x86 64bit))</code> for Mac OS X), if necessary;</li>
                    <li>Click on the <code>Run CMake</code> button;</li>
                    <li>Click on the <code>Finish</code> button;</li>
                    <li>Select <code>OpenCOR</code> as the run target (by selecting the <code>Build</code> | <code>Open Build/Run Target Seclector...</code> menu or by pressing <code>Ctrl+T</code>), if necessary; and</li>
                    <li>
                        Build and test OpenCOR (by selecting the <code>Build</code> | <code>Run</code> menu or by pressing <code>Ctrl+R</code>).
                        <div>
                            <strong>Note #1:</strong> because of our use of CMake, debugging with Qt Creator requires an extra build step which can be set up by selecting the <code>Projects</code> view and by clicking on the <code>Add Build Step</code> drop-down button and clicking on the <code>Custom Process Step</code> menu item. From there, tick the <code>Enable custom process step</code> check box, set the <code>Command</code> field to <code>cmake</code>, leave the <code>Working directory</code> field with <code>%{buildDir}</code> and set the <code>Command arguments</code> field to <code>-DCMAKE_BUILD_TYPE=Debug ..</code>. Finally, make sure that this new build step comes before the default <code>Make</code> build step.
                        </div>
                        <div>
                            <strong>Note #2:</strong> by default, Qt Creator will compile OpenCOR sequentially, but this can be changed by selecting the <code>Projects</code> view and by clicking on the <code>Details</code> drop-down button of the default <code>Make</code> build step under the <code>Build Steps</code> header. From there, just set the <code>Additional arguments</code> field to <code>-j [n]</code> where <code>n</code> is the number of jobs to be run simultaneously (if no <code>n</code> value is provided, then Qt Creator will try to run as many jobs as possible).
                        </div>
                    </li>
                </ul>
            </li>
        </ul>

        <div class="copyright">
            Copyright ©2011-2012
        </div>
    </body>
</html>
