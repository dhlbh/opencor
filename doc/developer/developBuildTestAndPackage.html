<!DOCTYPE HTML>
<HTML>
    <HEAD>
        <TITLE>
            Develop, build, test and package
        </TITLE>

        <META HTTP-EQUIV = "Content-Type" CONTENT = "Text/HTML; Charset=ISO-8859-1">

        <LINK HREF = "../res/stylesheet.css" REL = "Stylesheet" TYPE = "Text/CSS">
        <LINK HREF = "../res/developerStylesheet.css" REL = "Stylesheet" TYPE = "Text/CSS">
    </HEAD>
    <BODY>
        <P CLASS = "TitleBackground">
            <SPAN CLASS = "TitleFont">Develop, build, test and package</SPAN>
        </P>

        <P>
            OpenCOR is developed, built, tested and packaged on <A HREF = "http://www.microsoft.com/windows/windows-7/">Windows 7</A>, <A HREF = "http://www.ubuntu.com/">Ubuntu</A> 10.10 (Maverick Meerkat; both 32-bit and 64-bit) and <A HREF = "http://www.apple.com/macosx/">Mac OS X</A> 10.6 (Snow Leopard). The information which follows assumes that you are using one of these operating systems.
        </P>

        <P>
            <SPAN CLASS = "SectionFont">Pre-Requirements</SPAN>
        </P>

        <P>
            In order to develop, build, test and/or package OpenCOR, you need the following tools:
        </P>

        <UL>
            <LI>
                <A HREF = "http://git-scm.com/">Git</A> (the <A HREF = "http://packages.ubuntu.com/maverick/git">git</A> package on Ubuntu): the distributed version control system used to keep track of OpenCOR's source code. You can get a copy of the source code by cloning our <A HREF ="http://opencor.git.sourceforge.net/git/gitweb.cgi?p=opencor/opencor;a=tree;hb=HEAD">Git repository</A> in <SPAN CLASS = "Italic">read only</SPAN> mode:
                    <PRE>$ git clone git://opencor.git.sourceforge.net/gitroot/opencor/opencor</PRE>
            </LI>
            <LI><A HREF = "http://www.cmake.org/">CMake</A> 2.8+ (the <A HREF = "http://packages.ubuntu.com/maverick/cmake">cmake</A> package on Ubuntu): the cross-platform build system used to build OpenCOR;</LI>
            <LI>
                <A HREF = "http://qt.nokia.com/products/developer-tools">Qt Creator</A> (the <A HREF = "http://packages.ubuntu.com/maverick/qtcreator">qtcreator</A> package on Ubuntu): the cross-platform environment used to develop OpenCOR as a <A HREF = "http://qt.nokia.com/">Qt</A> 4.7+ application; and
                    <UL>
                        <LI><SPAN CLASS = "Bold">Note #1:</SPAN> both CMake and Git are supported by Qt Creator, but Git might need configuring by selecting the <CODE>Tools|Options...</CODE> menu, then the <CODE>Version Control</CODE> section, and finally the <CODE>Git</CODE> tab. Alternatively, you can always use Git from the command line or, on Windows, with <A HREF = "http://code.google.com/p/tortoisegit/">TortoiseGit</A>.</LI>
                        <LI><SPAN CLASS = "Bold">Note #2:</SPAN> on Ubuntu, you will also need the <A HREF = "http://packages.ubuntu.com/maverick/g++">g++</A> package, while <A HREF = "http://developer.apple.com/technologies/tools/xcode.html">Xcode</A> on Mac OS X.</LI>
                        <LI><SPAN CLASS = "Bold">Note #3:</SPAN> OpenCOR is developed using the latest version of Qt Creator (currently 2.0.1) which is based on Qt 4.7.0 (even though the latest version of Qt is currently 4.7.1). However, it happens that OpenCOR can also be built using Qt 4.6. For this reason, our CMake script requires Qt 4.6 or above to build OpenCOR, but this requirement will be revised as soon as Qt 4.6 is shown to break the build.</LI>
                    </UL>
            </LI>
            <LI><A HREF = "http://nsis.sourceforge.net/">NSIS</A> (Windows only): one the solutions used to package OpenCOR on Windows.</LI>
        </UL>

        <SPAN CLASS = "SectionFont">Develop</SPAN>

        <P>
            Except for the <A HREF = "../user/authors.html">authors</A>, OpenCOR is not currently opened for development. This will change as soon as OpenCOR gets officially released.
        </P>

        <SPAN CLASS = "SectionFont"><A NAME = "buildAndTest">Build and Test</A></SPAN>

        <P>
            OpenCOR can be built in two different ways:
        </P>

        <UL>
            <LI>
                <SPAN CLASS = "Bold">Command line:</SPAN> various batch and VBScript files (<CODE>.bat</CODE> and <CODE>.vbs</CODE> files) on Windows and shell scripts on Ubuntu/Mac OS X are available: (Note that these command line tools require access to CMake, MinGW/g++/Xcode (for Windows, Ubuntu and Mac OS X, respectively) and Qt from the command line. This should be the case on Ubuntu and Mac OS X, but on Windows your <CODE>PATH</CODE> environment variable might need updating.)
                    <UL>
                        <LI><SPAN CLASS = "Bold">cleanproj[.bat]:</SPAN> cleans the OpenCOR environment;</LI>
                        <LI><SPAN CLASS = "Bold">cleanprojall[.bat]:</SPAN> cleans all of the OpenCOR environment (i.e. including <A HREF = "thirdPartyLibraries.html">third-party libraries</A>);</LI>
                        <LI><SPAN CLASS = "Bold">makeproj[.bat]:</SPAN> compiles and links everything that is required to get a binary version of OpenCOR; and</LI>
                        <LI>
                            <SPAN CLASS = "Bold">runproj[.bat|.vbs]:</SPAN> runs OpenCOR.
                                <UL>
                                    <LI><SPAN CLASS = "Bold">Note:</SPAN> on Windows, if you were to run OpenCOR from a console window by just entering <CODE>runproj</CODE>, then the <CODE>runproj.bat</CODE> file would be executed (rather than the <SPAN = CLASS ="Italic">runproj.vbs</SPAN> file), offering you the opportunity to use OpenCOR as a console application. However, if you were to run OpenCOR by double clicking the <CODE>runproj.bat</CODE> file from within Windows Explorer, then a console window will quickly appear and disappear. To avoid this, you should double click on the <SPAN = CLASS ="Italic">runproj.vbs</SPAN> file.</LI>
                                </UL>
                        </LI>
                    </UL>
            </LI>
            <LI>
                <SPAN CLASS = "Bold">Using Qt Creator:</SPAN>
                    <UL>
                        <LI>Start Qt Creator;</LI>
                        <LI>Open <CODE>[OpenCOR]/CMakeLists.txt</CODE> (by selecting the <CODE>File|Open File or Project...</CODE> menu or by pressing <CODE>Ctrl+O</CODE>);</LI>
                        <LI>Specify <CODE>[OpenCOR]/build</CODE> as the build directory;</LI>
                        <LI>Select <CODE>MinGW</CODE> as the generator (Windows only);</LI>
                        <LI>Click on the <CODE>Run CMake</CODE> button;</LI>
                        <LI>Click on the <CODE>Finish</CODE> button;</LI>
                        <LI>Select <CODE>OpenCOR</CODE> as the run target (by selecting the <CODE>Build|Open Build/Run Target Seclector...</CODE> menu or by pressing <CODE>Ctrl+T</CODE>); and</LI>
                        <LI>Build and test OpenCOR (by selecting the <CODE>Build|Run</CODE> menu or by pressing <CODE>Ctrl+R</CODE>).</LI>
                    </UL>
            </LI>
        </UL>

        <SPAN CLASS = "SectionFont">Package</SPAN>

        <P>
            The packaging of OpenCOR can only be done from the command line, using <CODE>packageproj.bat</CODE> on Windows and <CODE>packageproj</CODE> on Ubuntu / Mac OS X. Note that though the Ubuntu package is originally meant for Ubuntu 10.10 (Maverick Meerkat; both 32-bit and 64-bit), it should also work with other versions of Ubuntu, as well as other Linux distributions though additional libraries may be required in the latter case.
        </P>

        <P CLASS = "CopyrightBackground">
            <SPAN CLASS = "CopyrightFont">Copyright ©2011</SPAN>
        </P>
    </BODY>
</HTML>
