<!DOCTYPE html>
<html>
    <head>
        <title>
            Develop, build, test and package
        </title>

        <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

        <link href="../res/stylesheet.css" rel="stylesheet" type="text/css" />
        <link href="../res/developerStylesheet.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>
            Develop, build, test and package
        </h1>

        <p>
            OpenCOR is developed, built, tested and packaged on <a href="http://www.microsoft.com/windows/windows-7/">Windows 7</a>, <a href="http://www.ubuntu.com/">Ubuntu</a> 10.10 (Maverick Meerkat; both the 32-bit and 64-bit versions) and <a href="http://www.apple.com/macosx/">Mac OS X</a> 10.6 (Snow Leopard). The information which follows assumes that you are using one of these operating systems.
        </p>

        <h2>
            Pre-Requirements
        </h2>

        <p>
            In order to develop, build, test and/or package OpenCOR, you need the following tools:
        </p>

        <ul>
            <li>
                <a href="http://git-scm.com/">Git</a> (the <a href="http://packages.ubuntu.com/maverick/git">git</a> package on Ubuntu): the distributed version control system used to keep track of OpenCOR's source code. You can get a copy of the source code by cloning our <A HREF ="http://opencor.git.sourceforge.net/git/gitweb.cgi?p=opencor/opencor;a=tree;hb=HEAD">Git repository</a> either in <em>read-only</em> mode:
                <pre>$ git clone git://opencor.git.sourceforge.net/gitroot/opencor/opencor</pre>
                or in <em>read-write</em> mode:
                <pre>$ git clone ssh://<strong>login</strong>@opencor.git.sourceforge.net/gitroot/opencor/opencor</pre>
            </li>
            <li><a href="http://www.cmake.org/">CMake</a> 2.8+ (the <a href="http://packages.ubuntu.com/maverick/cmake">cmake</a> package on Ubuntu): the cross-platform build system used to build OpenCOR;</li>
            <li>
                <a href="http://qt.nokia.com/products/developer-tools">Qt Creator</a> (the <a href="http://packages.ubuntu.com/maverick/qtcreator">qtcreator</a> package on Ubuntu): the cross-platform environment used to develop OpenCOR as a <a href="http://qt.nokia.com/">Qt</a> 4.7+ application; and
                <div>
                    <strong>Note #1:</strong> both CMake and Git are supported by Qt Creator, but Git might need configuring by selecting the <code>Tools|Options...</code> menu, then the <code>Version Control</code> section, and finally the <code>Git</code> tab. Alternatively, you can always use Git from the command line or, on Windows, with <a href="http://code.google.com/p/tortoisegit/">TortoiseGit</a>.
                </div>
                <div>
                    <strong>Note #2:</strong> on Ubuntu, you will also need the <a href="http://packages.ubuntu.com/maverick/g++">g++</a> package, while <a href="http://developer.apple.com/technologies/tools/xcode.html">Xcode</a> on Mac OS X.
                </div>
                <div>
                    <strong>Note #3:</strong> OpenCOR is developed using the latest version of Qt Creator (currently 2.0.1) which is based on Qt 4.7.0 (even though the latest version of Qt is currently 4.7.1). However, it happens that OpenCOR can also be built using Qt 4.6. For this reason, our CMake script requires Qt 4.6 or above to build OpenCOR, but this requirement will be revised as soon as Qt 4.6 is shown to break the build.
                </div>
            </li>
            <li><a href="http://nsis.sourceforge.net/">NSIS</a> (Windows only): one the solutions used to package OpenCOR on Windows.</li>
        </ul>

        <h2>
            Develop
        </h2>

        <p>
            Except for the <a href="../user/authors.html">authors</a>, OpenCOR is not currently opened for development. This will change as soon as OpenCOR gets officially released.
        </p>

        <h2>
            <a name="buildAndTest" class="sectionAnchor">Build and Test</a>
        </h2>

        <p>
            OpenCOR can be built in two different ways:
        </p>

        <ul>
            <li>
                <strong>Command line:</strong> various batch and VBScript files (<code>.bat</code> and <code>.vbs</code> files) on Windows and shell scripts on Ubuntu/Mac OS X are available: (Note that these command line tools require access to CMake, MinGW/g++/Xcode (for Windows, Ubuntu and Mac OS X, respectively) and Qt from the command line. This should be the case on Ubuntu and Mac OS X, but on Windows your <code>PATH</code> environment variable might need updating.)
                <ul>
                    <li><code>cleanproj[.bat]</code>: cleans the OpenCOR environment;</li>
                    <li><code>cleanprojall[.bat]</code>: cleans all of the OpenCOR environment (i.e. including <a href="thirdPartyLibraries.html">third-party libraries</a>);</li>
                    <li><code>makeproj[.bat]</code>: compiles and links everything that is required to get a binary version of OpenCOR; and</li>
                    <li>
                        <code>runproj[.bat|.vbs]</code>: runs OpenCOR.
                        <div>
                            <strong>Note:</strong> on Windows, if you were to run OpenCOR from a console window by just entering <code>runproj</code>, then the <code>runproj.bat</code> file would be executed (rather than the <code>runproj.vbs</code> file), offering you the opportunity to use OpenCOR as a console application. However, if you were to run OpenCOR by double clicking the <code>runproj.bat</code> file from within Windows Explorer, then a console window will quickly appear and disappear. To avoid this, you should double click on the <code>runproj.vbs</code> file.
                        </div>
                    </li>
                </ul>
            </li>
            <li>
                <strong>Using Qt Creator:</strong>
                <ul>
                    <li>Start Qt Creator;</li>
                    <li>Open <code>[OpenCOR]/CMakeLists.txt</code> (by selecting the <code>File|Open File or Project...</code> menu or by pressing <code>Ctrl+O</code>);</li>
                    <li>Specify <code>[OpenCOR]/build</code> as the build directory;</li>
                    <li>Select <code>MinGW</code> as the generator (Windows only);</li>
                    <li>Click on the <code>Run CMake</code> button;</li>
                    <li>Click on the <code>Finish</code> button;</li>
                    <li>Depending on your version of Qt Creator, you may have to select <code>OpenCOR</code> as the run target (by selecting the <code>Build|Open Build/Run Target Seclector...</code> menu or by pressing <code>Ctrl+T</code>); and</li>
                    <li>
                        Build and test OpenCOR (by selecting the <code>Build|Run</code> menu or by pressing <code>Ctrl+R</code>).
                        <div>
                            <strong>Note:</strong> should new translations be required (e.g. as a result of adding a new action), then <code>[OpenCOR]/CMakeLists.txt</code> must be recompiled for the translation file(s) (<code>[OpenCOR]/i18n/OpenCOR_xx.ts</code>) to be updated (and then the translations added using Qt Linguist (it comes with Qt Creator).
                        </div>
                    </li>
                </ul>
            </li>
        </ul>

        <h2>
            Package
        </h2>

        <p>
            The packaging of OpenCOR can only be done from the command line, using <code>packageproj.bat</code> on Windows and <code>packageproj</code> on Ubuntu / Mac OS X. Note that though the Ubuntu package is originally meant for Ubuntu 10.10 (Maverick Meerkat; both 32-bit and 64-bit), it should also work with other versions of Ubuntu, as well as other Linux distributions though additional libraries may be required in the latter case.
        </p>

        <div class="copyright">
            Copyright ©2011
        </div>
    </body>
</html>
